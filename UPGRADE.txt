# https://packaging.python.org/tutorials/packaging-projects/

rm -r best.egg-info dist/* build

pip install --upgrade build
python3 -m build
# a .whl and a .tar.gz in the /dist directory
python3 -m pip install --upgrade twine
python3 -m twine upload --repository testpypi dist/*
# if live:
# python3 -m twine upload dist/*

mktmpenv
cd - && pip install . && cd -  # install dependencies
pip uninstall best
pip install --index-url https://test.pypi.org/simple/ --no-deps best

# if live:
# pip install best
